---
layout: post
title: ğŸ’—ì•„ë‘ì´ë…¸ í„ìŠ¤ì˜¥ì‹œë¯¸í„°ğŸ’—
date: 2022-12-18 19:04:00 +0900
description: 'ê³ 2 ë™ì•„ë¦¬ í”„ë¡œì íŠ¸!'
categories: [project]
tags: [highschool]

---

- ë§Œë“œëŠ” ê³¼ì •~

1. **ë¸”ë£¨íˆ¬ìŠ¤ë¡œ ì‹¬ë°•ì„¼ì„œ(MAX30102)ì˜ ì„¼ì„œê°’ì„ ì „ì†¡í•´ ì¤„ ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.**

```c
#include <Wire.h>  //ë¼ì´ë¸ŒëŸ¬ë¦¬
#include "MAX30105.h"
#include <SoftwareSerial.h>
#include "heartRate.h"

MAX30105 particleSensor;
SoftwareSerial HC06(2,3);

const byte RATE_SIZE = 4; //Increase this for more averaging. 4 is good.
byte rates[RATE_SIZE]; //Array of heart rates
byte rateSpot = 0;
long lastBeat = 0; //Time at which the last beat occurred

float beatsPerMinute;
int beatAvg;

void setup()
{
  Serial.begin(115200); //ë¸”ë£¨íˆ¬ìŠ¤,ì‹œë¦¬ì–¼ í†µì‹  ì‹œì‘
  HC06.begin(9600);

  //ì„¼ì„œ ì„¸íŒ…
  if (!particleSensor.begin(Wire, I2C_SPEED_FAST)) 
  {
    while (1);
  }
  particleSensor.setup(); //defaultì„¸íŒ…
}

void loop()
{
  long irValue = particleSensor.getIR();

  if (checkForBeat(irValue) == true)
  {
    //ì‹¬ë°•ìˆ˜ ê°’ ë¶ˆëŸ¬ì˜¤ê¸°
    long delta = millis() - lastBeat;
    lastBeat = millis();

    beatsPerMinute = 60 / (delta / 1000.0);

    if (beatsPerMinute < 255 && beatsPerMinute > 20)
    {
      rates[rateSpot++] = (byte)beatsPerMinute; //Store this reading in the array
      rateSpot %= RATE_SIZE; //Wrap variable

      //ì‹¬ë°•ìˆ˜ ê°’ì„ bpmìœ¼ë¡œ ë³€í™˜
      beatAvg = 0;
      for (byte x = 0 ; x < RATE_SIZE ; x++)
        beatAvg += rates[x];
      beatAvg /= RATE_SIZE;

      if (irValue < 50000){
        //Serial.println(" No finger?");
        HC06.println("0,0");
      }else{
        HC06.println("1,"+ String(beatAvg));
      } 
    } 
  }
}
```

1. **ì•±ì¸ë²¤í„°ì—ì„œ ì‹¬ë°•ìˆ˜ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ë””ìì¸ì„ í•˜ì˜€ê³  ì•±ì¸ë²¤í„°ì˜ ì›¹ë·°ë¥¼ ì´ìš©í•˜ì—¬ ê·¸ë˜í”„ë¥¼ ê·¸ë¦´ ìˆ˜ ìˆê²Œ htmlíŒŒì¼ì— chart.jsë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ì „ë‹¬ë°›ì€ ê°’ì„ ê·¸ë˜í”„ë¡œ ê·¸ë ¤ì£¼ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.**
    
    **(+ì‹¬ë°•ìˆ˜ì— ë”°ë¼ ì‹¬ë°•ìˆ˜ ê·¸ë¦¼ì˜ í¬ê¸°ê°€ ë‹¬ë¼ì§^^)**
    
    ![app.png](/assets/img/app.png)
    
    ```html
    <!DOCTYPE html>
    <html>
    <head>
    <title>Junny</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.bundle.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    </head>
    <body>
    <div style="width:300px;">
    <canvas id="line1"></canvas>
    </div>
    
    <script>
    var ctx = document.getElementById('line1').getContext('2d');
    var chart = new Chart(ctx, {
     type: 'line',
     data: {
      labels: ['N-6', 'N-5', 'N-4', 'N-3', 'N-2', 'N-1', 'N'],
      datasets: [
        {
    	 label: 'BPM',
    	 borderWidth: 0.9,
    	 backgroundColor: 'rgba(255, 99, 132, 0.2)',
    	 borderColor: 'rgba(255, 99, 132, 1)',
    	 data: [0, 0, 0, 0, 0, 0, 0]
    	}
        ]
    	},
     options: {}
    });
    
    function nockanda_forever(){
    	var recv  = window.AppInventor.getWebViewString();
    	chart.data.datasets[0].data.shift();
    	chart.data.datasets[0].data.push(recv);
    	chart.update();
    }
    </script>
    </body>
    </html>
    ```
    
    [BeatPulse.aia](/assets/img/BeatPulse.aia)
    [BeatPulse.apk](/assets/img/BeatPulse.apk)
    

1. **3Dí”„ë¦°í„°ë¥¼ ì´ìš©í•´ ì‹¬ë°•ì„¼ì„œë¥¼ ì†ê°€ë½ì— ê³ ì •ì‹œí‚¬ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì˜¥ì‹œë¯¸í„°ë¥¼ ì§ì ‘ ì œì‘í•˜ì§€ëŠ” ì•Šì•˜ê³  ì°¾ì•„ì„œ ë½‘ì•˜ë‹¤.**
    
    **TMI) ë½‘ëŠ” ë„ì¤‘ì— ë¬¸ì œê°€ ìƒê¸°ëŠ” ë°”ëŒì— ì„œí¬í„°ê°€ ì•ˆë–¼ì–´ì ¸ì„œ ì¸ë‘ê¸°ë¡œ ë‹¤ë“¬ì—ˆë‹¤ã… ã… **
    
    ![3d-up.png](/assets/img/3d-up.png)
    
    ![3d-down.png](/assets/img/3d-down.png)
    

1. **í•˜ë“œì›¨ì–´ì ì¸ ë¶€ë¶„ì„ ì™„ì„±í•˜ì˜€ë‹¤.**
    
    **TMI) ë‚©ë•œì„ ì²˜ìŒ í•´ë´¤ëŠ”ë° ê½¤ ì¬ë°Œì—ˆë‹¤.ê·¼ë° ì† ë°ì˜€ë‹¤.ì•„í”„ë‹¤.**
    
    ![circuit.jpeg](/assets/img/circuit.jpeg)